tinymce.PluginManager.add('youtube',function(editor,url){editor.addButton('youtube',{text:'Add YouTube video',icon:false,onclick:function(){editor.windowManager.open({title:'YouTube plugin',body:[{type:'textbox',name:'code',label:'Video code'}],onsubmit:function(e){if(e.data.code)editor.insertContent('<iframe width="420" height="315" src="http://www.youtube.com/embed/'+e.data.code+'" frameborder="0" allowfullscreen></iframe>');else tinyMCE.activeEditor.windowManager.alert('Please fill the code field to use YouTube plugin.')}})}});editor.addMenuItem('youtube',{text:'YouTube plugin',context:'tools',onclick:function(){editor.windowManager.open({title:'YouTube plugin',url:'http://www.vmlab.it/project/downloads/viewdownload/10-tinymce/13-youtube-plugin-for-tinymce',width:800,height:600,buttons:[{text:'Close',onclick:'close'}]})}})});